# Application
APP_ENV=development
# Port: Render uses PORT env var automatically. Fallback to APP_PORT or 4000
APP_PORT=4000
APP_FRONTEND_URL_APP=https://app.example.com
APP_FRONTEND_URL_ADMIN=https://admin.example.com

# MongoDB (REQUIRED)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/
MONGODB_DB_NAME=expense_tracker

# JWT (REQUIRED - secrets must be at least 32 characters)
JWT_ACCESS_SECRET=changeme_access_secret_key_min_32_chars
JWT_REFRESH_SECRET=changeme_refresh_secret_key_min_32_chars
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=30d

# AWS S3 (REQUIRED)
AWS_REGION=ap-south-1
S3_BUCKET_NAME=expense-tracker-aially
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# Together AI (replaces OpenAI) - Optional but required for OCR
TOGETHER_AI_API_KEY=your_together_ai_api_key
TOGETHER_AI_USER_KEY=your_together_ai_user_key
# Vision-capable models - IMPORTANT: Use a SERVERLESS model or create a dedicated endpoint
# Serverless models (no endpoint needed):
# - Qwen/Qwen2.5-VL-72B-Instruct (default, serverless)
# - meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8 (if available)
# - meta-llama/Llama-4-Scout-17B-16E-Instruct (if available)
# 
# Models requiring dedicated endpoints (visit https://api.together.ai/models/[MODEL] to create):
# - Qwen/Qwen2-VL-7B-Instruct
# - Qwen/Qwen2-VL-2B-Instruct
# - google/gemma-2-2b-it
# 
# Check Together AI docs for latest serverless models: https://docs.together.ai/docs/serverless-models
TOGETHER_AI_MODEL_VISION=Qwen/Qwen2.5-VL-72B-Instruct

# Firebase (Optional - for push notifications)
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_CLIENT_EMAIL=your_firebase_client_email
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----\n"
FIREBASE_DATABASE_URL=https://your-project.firebaseio.com

# Resend (Optional - for email notifications)
RESEND_API_KEY=your_resend_api_key
RESEND_FROM_EMAIL=no-reply@aially.in

# Redis (for BullMQ queue) - Required for OCR worker
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# OCR Worker
DISABLE_OCR=false
OCR_WORKER_CONCURRENCY=20
# OCR Rate Limit (requests per hour)
OCR_RATE_LIMIT=10000

# MongoDB Connection Pool (for high concurrency - 100K+ users)
MONGODB_MAX_POOL_SIZE=500
MONGODB_MIN_POOL_SIZE=10

# Rate Limiting (for high concurrency - 100K+ users)
# Login rate limits (per IP, per 15 minutes)
LOGIN_RATE_LIMIT_DEV=10000
LOGIN_RATE_LIMIT_PROD=100000
# General API rate limits (per IP, per 15 minutes)
API_RATE_LIMIT_DEV=1000000
API_RATE_LIMIT_PROD=10000000

# Logging
# Log levels: debug, info, warn, error, fatal
# Use 'debug' for detailed debugging, 'info' for production
LOG_LEVEL=info
# Set to 'true' for human-readable logs (development), 'false' for JSON logs (production)
LOG_PRETTY=false
# Request ID header name for correlation tracking
REQUEST_ID_HEADER=X-Request-ID

# Analytics API (Optional - for Microsoft Fabric / Power BI integration)
# Must be at least 32 characters. Used for read-only analytics endpoints.
# Generate a secure random key: openssl rand -hex 32
ANALYTICS_API_KEY=your_analytics_api_key_min_32_chars_here
